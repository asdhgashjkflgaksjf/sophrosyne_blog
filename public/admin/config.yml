# ========================================
# SOPHROSYNE BLOG - DECAP CMS CONFIGURATION
# ========================================
# INSTRUKSI SETUP:
# 1. Ganti YOUR_GITHUB_USERNAME dengan username GitHub Anda
# 2. Ganti YOUR_REPO_NAME dengan nama repository
# 3. Ganti YOUR_NETLIFY_SITE dengan nama site Netlify
# ========================================

# ========================================
# BACKEND: GIT GATEWAY (via Netlify Identity)
# ========================================
# Menggunakan git-gateway = login via Netlify Identity (email/password)
# Tidak perlu OAuth app GitHub terpisah, cukup aktifkan:
# 1. Netlify Dashboard > Site Settings > Identity > Enable Identity
# 2. Netlify Dashboard > Site Settings > Identity > Services > Git Gateway > Enable
# ========================================
backend:
  name: git-gateway
  branch: main
  # Commit messages yang lebih deskriptif
  commit_messages:
    create: "âœ¨ Buat {{collection}} baru: {{slug}}"
    update: "ğŸ“ Update {{collection}}: {{slug}}"
    delete: "ğŸ—‘ï¸ Hapus {{collection}}: {{slug}}"
    uploadMedia: "ğŸ“· Upload media: {{path}}"
    deleteMedia: "ğŸ—‘ï¸ Hapus media: {{path}}"

# ========================================
# FITUR EDITORIAL WORKFLOW (Draft & Review)
# ========================================
# Memungkinkan:
# - Menyimpan draft tanpa publish
# - Review sebelum publish
# - Status: Draft â†’ In Review â†’ Ready â†’ Published
publish_mode: editorial_workflow

# Lokasi media yang diupload
media_folder: "public/uploads"
public_folder: "/uploads"
# Pengaturan editor
slug:
  encoding: "ascii"
  clean_accents: true
  sanitize_replacement: "-"

# ========================================
# KOLEKSI KONTEN
# ========================================
collections:
  # ----------------------------------------
  # ARTIKEL BLOG
  # ----------------------------------------
  - name: "articles"
    label: "ğŸ“ Artikel"
    label_singular: "Artikel"
    folder: "src/content/articles"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    extension: "json"
    format: "json"
    summary: "{{title}} | {{category}} | {{date}}"
    editor:
      preview: false
    # Sorting & Grouping
    sortable_fields: ["date", "title", "category"]
    # Filter berdasarkan kategori
    view_filters:
      - label: "ğŸ“š Filsafat"
        field: category
        pattern: "Filsafat"
      - label: "ğŸ¨ Kreativitas"
        field: category
        pattern: "Kreativitas"
      - label: "ğŸŒ± Pertumbuhan"
        field: category
        pattern: "Pertumbuhan"
      - label: "ğŸ§˜ Wellness"
        field: category
        pattern: "Wellness"
      - label: "ğŸ“– Book Review"
        field: category
        pattern: "Book Review"
      - label: "ğŸ“ Draft"
        field: status
        pattern: "draft"
      - label: "â° Terjadwal"
        field: status
        pattern: "scheduled"
    # Grouping di dashboard
    view_groups:
      - label: "Kategori"
        field: category
      - label: "Status"
        field: status
      - label: "Tahun"
        field: date
        pattern: '\d{4}'
    fields:
      # --- Metadata Dasar ---
      - label: "ID Artikel"
        name: "id"
        widget: "string"
        hint: "ID unik untuk artikel (auto-generate jika kosong)"
        required: false
      - label: "Judul"
        name: "title"
        widget: "string"
        pattern: ['.{10,100}', "Judul harus 10-100 karakter"]
      - label: "Deskripsi Singkat"
        name: "excerpt"
        widget: "text"
        hint: "Ringkasan artikel untuk preview & SEO (maks 200 karakter)"
        pattern: ['.{50,200}', "Deskripsi harus 50-200 karakter"]
      - label: "Kategori"
        name: "category"
        widget: "select"
        options:
          - { label: "ğŸ“š Filsafat", value: "Filsafat" }
          - { label: "ğŸ¨ Kreativitas", value: "Kreativitas" }
          - { label: "ğŸŒ± Pertumbuhan", value: "Pertumbuhan" }
          - { label: "ğŸ§˜ Wellness", value: "Wellness" }
          - { label: "ğŸ“– Book Review", value: "Book Review" }
      
      # --- Pengaturan Publikasi ---
      - label: "âš™ï¸ Pengaturan Publikasi"
        name: "publishing"
        widget: "object"
        collapsed: true
        fields:
          - label: "Status Artikel"
            name: "status"
            widget: "select"
            default: "draft"
            options:
              - { label: "ğŸ“ Draft", value: "draft" }
              - { label: "ğŸ‘€ Dalam Review", value: "in_review" }
              - { label: "â° Terjadwal", value: "scheduled" }
              - { label: "âœ… Published", value: "published" }
            hint: "Draft = belum publish, Terjadwal = akan publish otomatis"
          - label: "Tanggal Publikasi"
            name: "publishDate"
            widget: "datetime"
            format: "YYYY-MM-DDTHH:mm:ssZ"
            date_format: "DD MMM YYYY"
            time_format: "HH:mm"
            hint: "Untuk scheduled posts, set tanggal di masa depan"
          - label: "Tanggal Terakhir Update"
            name: "updatedDate"
            widget: "datetime"
            format: "YYYY-MM-DDTHH:mm:ssZ"
            required: false
            hint: "Otomatis terisi saat update"
          - label: "Featured Article"
            name: "featured"
            widget: "boolean"
            default: false
            hint: "Tampilkan di section featured"
          - label: "Sembunyikan dari Listing"
            name: "hidden"
            widget: "boolean"
            default: false
            hint: "Artikel tetap bisa diakses via URL langsung"
      
      # --- Waktu Baca ---
      - label: "Waktu Baca"
        name: "readTime"
        widget: "string"
        default: "5 menit"
      
      # --- Tanggal (untuk backward compatibility) ---
      - label: "Tanggal"
        name: "date"
        widget: "datetime"
        format: "DD MMM YYYY"
        date_format: "DD MMM YYYY"
        time_format: false
      
      # --- Visual ---
      - label: "Gambar Sampul"
        name: "image"
        widget: "image"
        required: false
        hint: "Gambar utama artikel (rasio 16:9 recommended)"
        media_library:
          config:
            max_file_size: 5120000 # 5MB
      - label: "Alt Text Gambar"
        name: "imageAlt"
        widget: "string"
        required: false
        hint: "Deskripsi gambar untuk accessibility & SEO"
      
      # --- Penulis ---
      - label: "Penulis"
        name: "author"
        widget: "object"
        collapsed: true
        fields:
          - { label: "Nama", name: "name", widget: "string", default: "Farhan" }
          - { label: "Avatar", name: "avatar", widget: "image", required: false }
          - { label: "Bio Singkat", name: "bio", widget: "text", required: false }
      
      # --- Tags ---
      - label: "Tags"
        name: "tags"
        widget: "list"
        hint: "Pisahkan dengan Enter"
        min: 1
        max: 8
      
      # --- SEO ---
      - label: "ğŸ” SEO Settings"
        name: "seo"
        widget: "object"
        collapsed: true
        required: false
        fields:
          - label: "Meta Title"
            name: "metaTitle"
            widget: "string"
            required: false
            hint: "Override judul untuk search engines (maks 60 karakter)"
            pattern: ['.{0,60}', "Max 60 karakter"]
          - label: "Meta Description"
            name: "metaDescription"
            widget: "text"
            required: false
            hint: "Deskripsi untuk search engines (maks 160 karakter)"
            pattern: ['.{0,160}', "Max 160 karakter"]
          - label: "Canonical URL"
            name: "canonicalUrl"
            widget: "string"
            required: false
            hint: "URL kanonik jika artikel dipublish di tempat lain juga"
          - label: "No Index"
            name: "noIndex"
            widget: "boolean"
            default: false
            hint: "Sembunyikan dari Google"
      
      # --- Konten Artikel ---
      - label: "Konten Artikel"
        name: "content"
        widget: "list"
        label_singular: "Bagian"
        types:
          - label: "ğŸ“Œ Heading"
            name: "heading"
            widget: "object"
            fields:
              - { label: "Teks Heading", name: "text", widget: "string" }
              - label: "Level"
                name: "level"
                widget: "select"
                options: ["h2", "h3", "h4"]
                default: "h2"
          - label: "ğŸ“ Paragraf"
            name: "paragraph"
            widget: "object"
            fields:
              - { label: "Teks", name: "text", widget: "markdown" }
          - label: "ğŸ’¬ Kutipan"
            name: "quote"
            widget: "object"
            fields:
              - { label: "Teks Kutipan", name: "text", widget: "text" }
              - { label: "Sumber", name: "author", widget: "string", required: false }
          - label: "ğŸ“‹ Daftar"
            name: "list"
            widget: "object"
            fields:
              - label: "Tipe"
                name: "listType"
                widget: "select"
                options:
                  - { label: "â€¢ Bullet", value: "unordered" }
                  - { label: "1. Numbered", value: "ordered" }
              - label: "Item"
                name: "items"
                widget: "list"
          - label: "ğŸ–¼ï¸ Gambar"
            name: "image"
            widget: "object"
            fields:
              - { label: "File Gambar", name: "src", widget: "image" }
              - { label: "Alt Text", name: "alt", widget: "string" }
              - { label: "Caption", name: "caption", widget: "string", required: false }
              - label: "Ukuran"
                name: "size"
                widget: "select"
                default: "full"
                options:
                  - { label: "Full Width", value: "full" }
                  - { label: "Medium", value: "medium" }
                  - { label: "Small", value: "small" }
          - label: "âœ¨ Highlight Box"
            name: "highlight"
            widget: "object"
            summary: "{{fields.highlightType}}: {{fields.title}}"
            fields:
              - { label: "Judul", name: "title", widget: "string", required: false }
              - { label: "Konten", name: "content", widget: "markdown" }
              # PENTING: Field 'type' adalah reserved word di Decap CMS untuk Variable Type Lists
              # Gunakan 'highlightType' sebagai pengganti untuk menghindari error
              - label: "Tipe Highlight"
                name: "highlightType"
                widget: "select"
                default: "info"
                options:
                  - { label: "â„¹ï¸ Info", value: "info" }
                  - { label: "ğŸ’¡ Tip", value: "tip" }
                  - { label: "âš ï¸ Warning", value: "warning" }
                  - { label: "ğŸ“š Quote Block", value: "quote" }
          - label: "ğŸ“¦ Code Block"
            name: "code"
            widget: "object"
            summary: "{{fields.language}}: {{fields.caption}}"
            fields:
              - label: "Bahasa"
                name: "language"
                widget: "select"
                options: ["javascript", "typescript", "python", "css", "html", "bash", "json", "markdown", "yaml", "sql"]
              - { label: "Kode", name: "code", widget: "text" }
              - { label: "Caption", name: "caption", widget: "string", required: false }
          - label: "â– Divider"
            name: "divider"
            widget: "object"
            summary: "{{fields.style}} divider"
            fields:
              - label: "Style"
                name: "style"
                widget: "select"
                default: "line"
                options:
                  - { label: "â”€â”€â”€ Line â”€â”€â”€", value: "line" }
                  - { label: "â€¢ â€¢ â€¢ Dots â€¢ â€¢ â€¢", value: "dots" }
                  - { label: "âœ¦ Ornament âœ¦", value: "ornament" }
                  - { label: "ã€°ï¸ Wave", value: "wave" }
          - label: "ğŸ“Š Tabel"
            name: "table"
            widget: "object"
            summary: "Tabel: {{fields.caption}}"
            fields:
              - { label: "Caption", name: "caption", widget: "string", required: false }
              - label: "Header"
                name: "headers"
                widget: "list"
                hint: "Nama kolom tabel"
              - label: "Baris Data"
                name: "rows"
                widget: "list"
                fields:
                  - label: "Kolom"
                    name: "cells"
                    widget: "list"
          - label: "ğŸ¬ Embed (Video/Tweet)"
            name: "embed"
            widget: "object"
            summary: "Embed: {{fields.embedType}}"
            fields:
              - label: "Tipe"
                name: "embedType"
                widget: "select"
                options:
                  - { label: "ğŸ¬ YouTube", value: "youtube" }
                  - { label: "ğŸ¦ Twitter/X", value: "twitter" }
                  - { label: "ğŸ“Œ Pinterest", value: "pinterest" }
                  - { label: "ğŸµ Spotify", value: "spotify" }
                  - { label: "ğŸ“ Link Preview", value: "link" }
              - { label: "URL atau Embed Code", name: "url", widget: "string" }
              - { label: "Caption", name: "caption", widget: "string", required: false }
          - label: "ğŸ¯ Call to Action"
            name: "cta"
            widget: "object"
            summary: "CTA: {{fields.text}}"
            fields:
              - { label: "Teks Tombol", name: "text", widget: "string" }
              - { label: "URL", name: "url", widget: "string" }
              - label: "Style"
                name: "ctaStyle"
                widget: "select"
                default: "primary"
                options:
                  - { label: "ğŸ”µ Primary", value: "primary" }
                  - { label: "âšª Secondary", value: "secondary" }
                  - { label: "ğŸ”— Link", value: "link" }
              - { label: "Deskripsi (opsional)", name: "description", widget: "string", required: false }
          - label: "ğŸ“· Gallery"
            name: "gallery"
            widget: "object"
            summary: "Gallery ({{fields.images.length}} gambar)"
            fields:
              - { label: "Caption Gallery", name: "caption", widget: "string", required: false }
              - label: "Layout"
                name: "layout"
                widget: "select"
                default: "grid"
                options:
                  - { label: "Grid", value: "grid" }
                  - { label: "Masonry", value: "masonry" }
                  - { label: "Carousel", value: "carousel" }
              - label: "Gambar"
                name: "images"
                widget: "list"
                fields:
                  - { label: "File", name: "src", widget: "image" }
                  - { label: "Alt", name: "alt", widget: "string" }
                  - { label: "Caption", name: "caption", widget: "string", required: false }
          - label: "ğŸ“ Note/Sidenote"
            name: "note"
            widget: "object"
            summary: "Note: {{fields.text}}"
            fields:
              - { label: "Teks", name: "text", widget: "markdown" }
              - label: "Posisi"
                name: "position"
                widget: "select"
                default: "inline"
                options:
                  - { label: "Inline", value: "inline" }
                  - { label: "Margin Kiri", value: "left" }
                  - { label: "Margin Kanan", value: "right" }
          - label: "ğŸ”¢ Statistik/Angka"
            name: "stats"
            widget: "object"
            summary: "Stats: {{fields.items.length}} items"
            fields:
              - label: "Items"
                name: "items"
                widget: "list"
                fields:
                  - { label: "Angka/Value", name: "value", widget: "string" }
                  - { label: "Label", name: "label", widget: "string" }
                  - { label: "Deskripsi", name: "description", widget: "string", required: false }
          - label: "â“ FAQ/Accordion"
            name: "faq"
            widget: "object"
            summary: "FAQ ({{fields.items.length}} items)"
            fields:
              - { label: "Judul Section", name: "title", widget: "string", required: false }
              - label: "Pertanyaan & Jawaban"
                name: "items"
                widget: "list"
                fields:
                  - { label: "Pertanyaan", name: "question", widget: "string" }
                  - { label: "Jawaban", name: "answer", widget: "markdown" }
          - label: "â° Timeline"
            name: "timeline"
            widget: "object"
            summary: "Timeline ({{fields.items.length}} events)"
            fields:
              - { label: "Judul Timeline", name: "title", widget: "string", required: false }
              - label: "Events"
                name: "items"
                widget: "list"
                fields:
                  - { label: "Tanggal/Waktu", name: "date", widget: "string" }
                  - { label: "Judul", name: "title", widget: "string" }
                  - { label: "Deskripsi", name: "description", widget: "markdown" }
      
      # --- Artikel Terkait ---
      - label: "Artikel Terkait"
        name: "relatedArticles"
        widget: "list"
        required: false
        hint: "ID artikel yang terkait"

  # ----------------------------------------
  # BOOK REVIEWS
  # ----------------------------------------
  - name: "book-reviews"
    label: "ğŸ“š Review Buku"
    label_singular: "Review Buku"
    folder: "src/content/books"
    create: true
    slug: "{{slug}}"
    extension: "json"
    format: "json"
    summary: "{{title}} by {{bookAuthor}} | â­{{rating}}"
    editor:
      preview: false
    sortable_fields: ["date", "rating", "title"]
    fields:
      - { label: "ID", name: "id", widget: "string" }
      - { label: "Judul Buku", name: "title", widget: "string" }
      - { label: "Penulis Buku", name: "bookAuthor", widget: "string" }
      - { label: "Sampul Buku", name: "cover", widget: "image" }
      - label: "Rating"
        name: "rating"
        widget: "select"
        options:
          - { label: "â­â­â­â­â­ (5/5)", value: 5 }
          - { label: "â­â­â­â­ (4/5)", value: 4 }
          - { label: "â­â­â­ (3/5)", value: 3 }
          - { label: "â­â­ (2/5)", value: 2 }
          - { label: "â­ (1/5)", value: 1 }
      - { label: "Ringkasan", name: "summary", widget: "text" }
      - { label: "Review", name: "review", widget: "markdown" }
      - label: "Tanggal Review"
        name: "date"
        widget: "datetime"
        format: "DD MMM YYYY"
      - { label: "Tags", name: "tags", widget: "list" }
      - label: "Status"
        name: "status"
        widget: "select"
        default: "draft"
        options:
          - { label: "ğŸ“ Draft", value: "draft" }
          - { label: "âœ… Published", value: "published" }
      - label: "Link Beli Buku"
        name: "purchaseLink"
        widget: "string"
        required: false
        hint: "Link affiliate ke toko buku (opsional)"

  # ----------------------------------------
  # DRAFTS (Quick Access)
  # ----------------------------------------
  - name: "drafts"
    label: "ğŸ“‹ Draft Box"
    label_singular: "Draft"
    folder: "src/content/drafts"
    create: true
    slug: "draft-{{slug}}"
    extension: "json"
    format: "json"
    summary: "{{title}} | {{date}}"
    description: "Tempat menyimpan ide dan draft cepat sebelum dijadikan artikel"
    fields:
      - { label: "Judul Ide", name: "title", widget: "string" }
      - label: "Tanggal Dibuat"
        name: "date"
        widget: "datetime"
        format: "DD MMM YYYY HH:mm"
      - label: "Kategori Target"
        name: "targetCategory"
        widget: "select"
        required: false
        options:
          - { label: "ğŸ“š Filsafat", value: "Filsafat" }
          - { label: "ğŸ¨ Kreativitas", value: "Kreativitas" }
          - { label: "ğŸŒ± Pertumbuhan", value: "Pertumbuhan" }
          - { label: "ğŸ§˜ Wellness", value: "Wellness" }
          - { label: "ğŸ“– Book Review", value: "Book Review" }
          - { label: "â“ Belum Tahu", value: "undecided" }
      - label: "Catatan & Ide"
        name: "notes"
        widget: "markdown"
        hint: "Tulis ide, outline, atau catatan bebas"
      - label: "Referensi"
        name: "references"
        widget: "list"
        required: false
        fields:
          - { label: "Judul", name: "title", widget: "string" }
          - { label: "URL", name: "url", widget: "string", required: false }
      - label: "Prioritas"
        name: "priority"
        widget: "select"
        default: "medium"
        options:
          - { label: "ğŸ”´ Tinggi", value: "high" }
          - { label: "ğŸŸ¡ Sedang", value: "medium" }
          - { label: "ğŸŸ¢ Rendah", value: "low" }

  # ----------------------------------------
  # PENGATURAN SITUS
  # ----------------------------------------
  - name: "settings"
    label: "âš™ï¸ Pengaturan"
    files:
      - name: "general"
        label: "Pengaturan Umum"
        file: "src/content/settings/general.json"
        fields:
          - { label: "Nama Situs", name: "siteName", widget: "string" }
          - { label: "Tagline", name: "tagline", widget: "string" }
          - { label: "Deskripsi", name: "description", widget: "text" }
          - { label: "Logo", name: "logo", widget: "image", required: false }
          - { label: "Favicon", name: "favicon", widget: "image", required: false }
          - label: "Artikel Per Halaman"
            name: "articlesPerPage"
            widget: "number"
            default: 6
            min: 3
            max: 12
      - name: "social"
        label: "Media Sosial"
        file: "src/content/settings/social.json"
        fields:
          - { label: "Twitter/X", name: "twitter", widget: "string", required: false }
          - { label: "Instagram", name: "instagram", widget: "string", required: false }
          - { label: "GitHub", name: "github", widget: "string", required: false }
          - { label: "LinkedIn", name: "linkedin", widget: "string", required: false }
          - { label: "YouTube", name: "youtube", widget: "string", required: false }
          - { label: "Email", name: "email", widget: "string" }
      - name: "about"
        label: "Halaman Tentang"
        file: "src/content/settings/about.json"
        fields:
          - { label: "Judul", name: "title", widget: "string" }
          - { label: "Foto Profil", name: "photo", widget: "image" }
          - { label: "Bio", name: "bio", widget: "markdown" }
          - { label: "Quote Favorit", name: "quote", widget: "text", required: false }
          - label: "Skills/Interests"
            name: "skills"
            widget: "list"
            required: false
      - name: "newsletter"
        label: "Newsletter"
        file: "src/content/settings/newsletter.json"
        fields:
          - { label: "Judul", name: "title", widget: "string", default: "Tetap Terinspirasi" }
          - { label: "Deskripsi", name: "description", widget: "text" }
          - { label: "Aktifkan Newsletter", name: "enabled", widget: "boolean", default: true }
          - { label: "Provider", name: "provider", widget: "select", options: ["mailchimp", "convertkit", "buttondown", "none"], default: "none" }
          - { label: "Form Action URL", name: "formAction", widget: "string", required: false }
      
      # ========================================
      # MAINTENANCE MODE
      # ========================================
      - name: "maintenance"
        label: "ğŸ”§ Mode Maintenance"
        file: "src/content/settings/maintenance.json"
        fields:
          - label: "Aktifkan Mode Maintenance"
            name: "enabled"
            widget: "boolean"
            default: false
            hint: "âš ï¸ HATI-HATI! Jika diaktifkan, website akan menampilkan halaman maintenance untuk semua pengunjung"
          - label: "Judul"
            name: "title"
            widget: "string"
            default: "Sedang Dalam Perbaikan"
          - label: "Pesan"
            name: "message"
            widget: "text"
            default: "Kami sedang melakukan pembaruan untuk memberikan pengalaman yang lebih baik. Silakan kembali lagi nanti."
          - label: "Estimasi Waktu"
            name: "estimatedTime"
            widget: "string"
            required: false
            hint: "Contoh: 1-2 jam, 30 menit, dll"
          - label: "Email Kontak"
            name: "contactEmail"
            widget: "string"
            required: false
            hint: "Email untuk dihubungi selama maintenance"
          - label: "Tampilkan Progress Bar"
            name: "showProgress"
            widget: "boolean"
            default: false
          - label: "Persentase Progress"
            name: "progressPercent"
            widget: "number"
            default: 0
            min: 0
            max: 100
            required: false
            hint: "Hanya tampil jika 'Tampilkan Progress Bar' aktif"
